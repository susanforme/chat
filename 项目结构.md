## 路由设计

| url            | method | query           | body                              | response                                    | 备注                                            |
| -------------- | ------ | --------------- | --------------------------------- | ------------------------------------------- | ----------------------------------------------- |
| /              | get    |                 |                                   |                                             | 首页                                            |
| /user/login    | post   |                 | {userName:string,password:string} | {status:1,data:{userName:string,id:string}} | 登录 md5 加密                                   |
| /user/logout   | post   |                 |                                   | {status:1}                                  | 退出                                            |
| /user/register | post   |                 | {userName:string,password:string} | {status:1,data:{userName:string,id:string}} | 注册 md5 加密                                   |
| /user/captcha  | get    |                 |                                   | {status:1,data:{img:string,text:string}}    | 返回验证码                                      |
| /user/profile  | get    | ?user_id=string |                                   | {status:1,data:{}}                          | 返回用户信息                                    |
| /user/check    | get    |                 |                                   |                                             | 带上 cookie,判断权限,根据 cookie 来进行 id 获取 |

## socket 接口

<table width="90%" class="table">
      <thead>
        <tr>
          <th>
            body
          </th>
          <th>
            response
          </th>
          <th>
            备注
          </th>
        </tr>
      </thead>
      <tr>
        <td>
            send:
          {
    id: string;
    userName: string;
  };
  receive:
          {
    id: string;
    userName: string;
  };
  msg: string;
        </td>
        <td>
          {
          status:1,data:response
          }
        </td>
        <td>
          emit('caht')发送信息,on('back')获得信息
        </td>
      </tr>
    </table>

## 备注

- status
  - 0 失败
  - 1 成功

## 备忘

1. 获取 ip 归属地 http://ip-api.com/json/?lang=zh-CN
2. 注意在关键路由使用 session 鉴权登录
3. 规定返回格式
4. 在服务器端对密码进行二次加密,加上一个加密字符串
